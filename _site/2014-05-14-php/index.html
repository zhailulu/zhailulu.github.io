<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>php有用的函数</title>

  <meta name="author" content="zhailulu" />

  

  <link rel="alternate" type="application/rss+xml" title="Yrzhll's Blog - 前端工程师" href="/feed.xml" />

  

  
    
      
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" />

    
  

  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
  

  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

  

  

  

    <!-- Facebook OpenGraph tags -->
  

  
  <meta property="og:title" content="php有用的函数" />
  

   
  <meta property="og:description" content="公司人手不够，让我学php。在网上看见的，总结的笔记. &amp;lt;?php //PHP允许你定义一个默认参数的函数 function foo($arg1 = '', $arg2 = ''){ echo &quot;arg1: $arg1\n&quot;; echo &quot;arg2: $arg2\n&quot;; } foo('hello','world'); foo(); //PHP还允许你定义一个完全任意的参数的函数 function foo2(){ // 取得所有的传入参数的数组 $args = func_get_args(); foreach ($args as $k =&amp;gt; $v) { echo &quot;arg&quot;.($k+1).&quot;: $v\n&quot;; } } foo2(); foo2('hello'); foo2('hello', 'world', 'again'); //取得所有的后缀为PHP的文件 $files = glob('*.php'); print_r($files); $files...">
  


  <meta property="og:type" content="website" />

  
  <meta property="og:url" content="http://localhost:4000/2014-05-14-php/" />
  <link rel="canonical" href="http://localhost:4000/2014-05-14-php/" />
  

  
  <meta property="og:image" content="http://localhost:4000/img/my.png" />
  
  

  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@yourname" />
  <meta name="twitter:creator" content="@yourname" />

  
  <meta name="twitter:title" content="php有用的函数" />
  

  
  <meta name="twitter:description" content="公司人手不够，让我学php。在网上看见的，总结的笔记. &amp;lt;?php //PHP允许你定义一个默认参数的函数 function foo($arg1 = '', $arg2 = ''){ echo &quot;arg1: $arg1\n&quot;; echo &quot;arg2: $arg2\n&quot;; } foo('hello','world'); foo(); //PHP还允许你定义一个完全任意的参数的函数 function foo2(){ // 取得所有的传入参数的数组 $args = func_get_args(); foreach ($args as $k =&amp;gt; $v) { echo &quot;arg&quot;.($k+1).&quot;: $v\n&quot;; } } foo2(); foo2('hello'); foo2('hello', 'world', 'again'); //取得所有的后缀为PHP的文件 $files = glob('*.php'); print_r($files); $files...">
  

  
  <meta name="twitter:image" content="http://localhost:4000/img/my.png" />
  

</head>


  <body>

    
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="http://localhost:4000">Yrzhll's Blog</a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            
            





<a href="http://zhailulu.github.io/">主页</a>

          </li>
        
        
        
          <li class="navlinks-container">
            <a class="navlinks-parent" href="javascript:void(0)">文章</a>
            <div class="navlinks-children">
              
                
                  
            





<a href="http://zhailulu.github.io/tag/js">js</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/css">css</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/html">html</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/github">github</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/life">life</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/linux">linux</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/blog">blog</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/php">php</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/php">web</a>

                
              
                
                  
            





<a href="http://zhailulu.github.io/tag/php">other</a>

                
              
            </div>
          </li>
        
        
        
          <li>
            
            





<a href="http://zhailulu.github.io/resource">资源</a>

          </li>
        
        
        
          <li>
            
            





<a href="http://zhailulu.github.io/aboutme">关于</a>

          </li>
        
        
      </ul>
    </div>

	
	<div class="avatar-container">
	  <div class="avatar-img-border">
	    <a href="http://localhost:4000 ">
	      <img class="avatar-img" src="/img/my.png" />
		</a>
	  </div>
	</div>
	

  </div>
</nav>


    <!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>php有用的函数</h1>
		  
		  
		  
		  <span class="post-meta">Posted on May 14, 2014</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>




<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post">
        <p>公司人手不够，让我学php。在网上看见的，总结的笔记.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="p">?</span><span class="nx">php</span>

 <span class="c1">//PHP允许你定义一个默认参数的函数</span>
 <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">$arg1</span> <span class="o">=</span> <span class="s1">''</span><span class="p">,</span> <span class="nx">$arg2</span> <span class="o">=</span> <span class="s1">''</span><span class="p">){</span>
    <span class="nx">echo</span> <span class="s2">"arg1: $arg1\n"</span><span class="p">;</span>
    <span class="nx">echo</span> <span class="s2">"arg2: $arg2\n"</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span><span class="s1">'world'</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">();</span>

<span class="c1">//PHP还允许你定义一个完全任意的参数的函数</span>
<span class="kd">function</span> <span class="nx">foo2</span><span class="p">(){</span>

    <span class="c1">// 取得所有的传入参数的数组 </span>
    <span class="nx">$args</span> <span class="o">=</span> <span class="nx">func_get_args</span><span class="p">();</span>

    <span class="nx">foreach</span> <span class="p">(</span><span class="nx">$args</span> <span class="nx">as</span> <span class="nx">$k</span> <span class="o">=&gt;</span> <span class="nx">$v</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">echo</span> <span class="s2">"arg"</span><span class="p">.(</span><span class="nx">$k</span><span class="o">+</span><span class="mi">1</span><span class="p">).</span><span class="s2">": $v\n"</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">}</span>

<span class="nx">foo2</span><span class="p">();</span>

<span class="nx">foo2</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">);</span>

<span class="nx">foo2</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span> <span class="s1">'world'</span><span class="p">,</span> <span class="s1">'again'</span><span class="p">);</span>


<span class="c1">//取得所有的后缀为PHP的文件 </span>
<span class="nx">$files</span> <span class="o">=</span> <span class="nx">glob</span><span class="p">(</span><span class="s1">'*.php'</span><span class="p">);</span>

<span class="nx">print_r</span><span class="p">(</span><span class="nx">$files</span><span class="p">);</span>

<span class="nx">$files</span> <span class="o">=</span> <span class="nx">glob</span><span class="p">(</span><span class="s1">'*.{php,txt}'</span><span class="p">,</span> <span class="nx">GLOB_BRACE</span><span class="p">);</span>

<span class="nx">print_r</span><span class="p">(</span><span class="nx">$files</span><span class="p">);</span>

<span class="c1">//获取文件的绝对地址</span>
<span class="nx">$files</span> <span class="o">=</span> <span class="nx">glob</span><span class="p">(</span><span class="s1">'web/images/l*.gif'</span><span class="p">);</span>

<span class="nx">$files</span> <span class="o">=</span> <span class="nx">array_map</span><span class="p">(</span><span class="s1">'realpath'</span><span class="p">,</span><span class="nx">$files</span><span class="p">);</span>

<span class="nx">print_r</span><span class="p">(</span><span class="nx">$files</span><span class="p">);</span>

<span class="c1">//获取内存使用情况</span>
<span class="nx">echo</span> <span class="s2">"Initial: "</span><span class="p">.</span><span class="nx">memory_get_usage</span><span class="p">().</span><span class="s2">" bytes \n"</span><span class="p">;</span>

<span class="c1">//使用内存的峰值</span>
<span class="nx">echo</span> <span class="s2">"Peak: "</span><span class="p">.</span><span class="nx">memory_get_peak_usage</span><span class="p">().</span><span class="s2">" bytes \n"</span><span class="p">;</span>

<span class="nx">print_r</span><span class="p">(</span><span class="nx">getrusage</span><span class="p">());</span>

<span class="c1">//基于以微秒计的当前时间，生成一个唯一的 ID 一般用md5()</span>
<span class="nx">echo</span> <span class="nx">uniqid</span><span class="p">();</span>

<span class="c1">//加前缀生成唯一的ID</span>
<span class="nx">echo</span> <span class="nx">uniqid</span><span class="p">(</span><span class="s1">'foo_'</span><span class="p">);</span>


<span class="c1">//序列化</span>
<span class="nx">$myvar</span> <span class="o">=</span> <span class="nx">array</span><span class="p">(</span>
    <span class="s1">'hello'</span><span class="p">,</span>
    <span class="mi">42</span><span class="p">,</span>
    <span class="nx">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'two'</span><span class="p">),</span>
    <span class="s1">'apple'</span>
<span class="p">);</span>

<span class="nx">$string</span> <span class="o">=</span> <span class="nx">serialize</span><span class="p">(</span><span class="nx">$myvar</span><span class="p">);</span>

<span class="nx">echo</span> <span class="nx">$string</span><span class="p">;</span>

<span class="c1">//反序列化</span>
<span class="nx">$newvar</span> <span class="o">=</span> <span class="nx">unserialize</span><span class="p">(</span><span class="nx">$string</span><span class="p">);</span>

<span class="nx">print_r</span><span class="p">(</span><span class="nx">$newvar</span><span class="p">);</span>


<span class="c1">//压缩和解压缩字符串</span>
<span class="nx">$string</span> <span class="o">=</span>
<span class="s2">"Lorem ipsum dolor sit amet, consectetur 
adipiscing elit. Nunc ut elit id mi ultricies 
adipiscing. Nulla facilisi. Praesent pulvinar, 
sapien vel feugiat vestibulum, nulla dui pretium orci, 
non ultricies elit lacus quis ante. Lorem ipsum dolor 
sit amet, consectetur adipiscing elit. Aliquam 
pretium ullamcorper urna quis iaculis. Etiam ac massa 
sed turpis tempor luctus. Curabitur sed nibh eu elit 
mollis congue. Praesent ipsum diam, consectetur vitae 
ornare a, aliquam a nunc. In id magna pellentesque 
tellus posuere adipiscing. Sed non mi metus, at lacinia 
augue. Sed magna nisi, ornare in mollis in, mollis 
sed nunc. Etiam at justo in leo congue mollis. 
Nullam in neque eget metus hendrerit scelerisque 
eu non enim. Ut malesuada lacus eu nulla bibendum 
id euismod urna sodales. "</span><span class="p">;</span>

<span class="nx">$compressed</span> <span class="o">=</span> <span class="nx">gzcompress</span><span class="p">(</span><span class="nx">$string</span><span class="p">);</span>

<span class="nx">echo</span> <span class="s2">"Original size: "</span><span class="p">.</span> <span class="nx">strlen</span><span class="p">(</span><span class="nx">$string</span><span class="p">).</span><span class="s2">"\n"</span><span class="p">;</span>
<span class="cm">/* 输出原始大小 
Original size: 800 
*/</span>

<span class="nx">echo</span> <span class="s2">"Compressed size: "</span><span class="p">.</span> <span class="nx">strlen</span><span class="p">(</span><span class="nx">$compressed</span><span class="p">).</span><span class="s2">"\n"</span><span class="p">;</span>

<span class="c1">// 解压缩 </span>
<span class="nx">$original</span> <span class="o">=</span> <span class="nx">gzuncompress</span><span class="p">(</span><span class="nx">$compressed</span><span class="p">);</span>


<span class="c1">//注册停止函数*register_shutdown_function()，可以让你在整个脚本停时前运行代码</span>

<span class="nx">$start_time</span> <span class="o">=</span> <span class="nx">microtime</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="nx">register_shutdown_function</span><span class="p">(</span><span class="s1">'my_shutdown'</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">my_shutdown</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">global</span> <span class="nx">$start_time</span><span class="p">;</span>

    <span class="nx">echo</span> <span class="s2">"execution took: "</span><span class="p">.</span>
            <span class="p">(</span><span class="nx">microtime</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="o">-</span> <span class="nx">$start_time</span><span class="p">).</span>
            <span class="s2">" seconds."</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">my_shutdown</span><span class="p">();</span>
<span class="p">?</span><span class="o">&gt;</span>
</code></pre>
</div>

<p>拷贝运行一下就能看见结果拉!!!</p>

<p>原文地址：<a href="http://developer.51cto.com/art/201307/402781.htm" target="_blank">http://developer.51cto.com/art/201307/402781.htm</a></p>

      </article>

      
        <div class="blog-tags">
          Tags:
          
          
            <a href="/tag/php">php</a>
          
          
        </div>
      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  

  

  

  
  <!--- Share on LinkedIn -->
   <!--  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/2014-05-14-php/"
     class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
     <span class="fa fa-fw fa-linkedin" aria-hidden="true"></span>
     <span class="sr-only">LinkedIn</span>
   </a> -->
  

</section>



      

      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="/2014-04-03-js/" data-toggle="tooltip" data-placement="top" title="5种你未必知道的JavaScript和CSS交互的方法（转）">&larr; 上一篇</a>
        </li>
        
        
        <li class="next">
          <a href="/2014-06-06-http/" data-toggle="tooltip" data-placement="top" title="HTTP请求方法">下一篇 &rarr;</a>
        </li>
        
      </ul>

      
        <div class="disqus-comments">
          

        </div>
      
    </div>
  </div>
</div>

    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="https://github.com/yourname" title="GitHub">
              <span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
              <span class="sr-only">GitHub</span>
            </a>
          </li>
          
		  
	  
      
		  
          <li>
            <a href="mailto:zhailulu123@126.com" title="Email me">
              <span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
              <span class="sr-only">Email me</span>
            </a>
          </li>
          
		  
		  
		  
      
      
      
      
      
		  
        </ul>
        <p class="copyright text-muted">
		  zhailulu
		  &nbsp;&bull;&nbsp;
		  2017

		  
		  &nbsp;&bull;&nbsp;
		  <a href="http://localhost:4000">yrzhll.top</a>
		  
	    </p>
	        <!-- Please don't remove this, keep my open source work credited :) -->
		<p class="theme-by text-muted">
		  Theme by
		  <a href="http://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
		</p>
      </div>
    </div>
  </div>
</footer>

  
    






  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script>
      	if (typeof jQuery == 'undefined') {
      	  document.write('<script src="/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
      	}
      </script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/bootstrap.min.js"></script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/main.js"></script>
    
  




  
  </body>
</html>
